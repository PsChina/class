<!DOCTYPE html>
<html ng-app="app">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body ng-controller="main">
    <span ui-sref="home">home</span>
    <span ui-sref="about">about</span>
    <span ui-sref="me">me</span>
    <span ui-sref="gfoih8p83">这个路由不存在</span>
    <ui-view></ui-view>
</body>
<script src="./angular.js"></script>
<script src="./angular-ui-router.js"></script>
<script src="./stateEvents.js"></script>
</html>
<script>
    angular.module('app',['ui.router','ui.router.state.events'])
            .controller('main',['$scope',function($scope){
                $scope.msg = 'Hello World!';
            }])
            .config(['$stateProvider',function($stateProvider){
                $stateProvider.state('home',{
                    url:'/home',
                    template:'<div>home</div>'
                }).state('about',{
                    url:'/about',
                    template:'<div>about</div>'
                }).state('me',{
                    url:'/me',
                    templateUrl:'./me.html' // 不存在 所以会跳转失败
                })
            }])
            .run(['$rootScope',function($rootScope){
                $rootScope.$on('$stateChangeStart',function(event,newRoute,newRouteParams,oldRoute,oldRouteParams){
                    console.log('路由跳转开始')
                })
                $rootScope.$on('$stateChangeSuccess',function(event,newRoute,newRouteParams,oldRoute,oldRouteParams){
                    console.log('路由跳转成功')
                })
                $rootScope.$on('$stateChangeError',function(event,newRoute,newRouteParams,oldRoute,oldRouteParams,errorObj){
                    console.log('路由跳转失败',arguments)
                })
                $rootScope.$on('$stateNotFound',function(event,newRoute,newRouteParams,oldRoute,oldRouteParams){
                    console.log('没有这个路由')
                })
            }])
</script>