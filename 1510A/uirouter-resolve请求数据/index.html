<!DOCTYPE html>
<html ng-app="app">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body ng-controller="main">
    <div ui-sref="home({key:1})">home</div>
    <div ui-sref="about">about</div>
    <ui-view></ui-view>
</body>
<script src="./angular.js"></script>
<script src="./angular-ui-router.js"></script>
</html>
<script>
    angular.module('app',['ui.router'])
           .controller('main',['$scope',function($scope){
                $scope.msg = 'Hello world!'
           }])
           .config(['$stateProvider','$urlRouterProvider',function($stateProvider,$urlRouterProvider){
                /**/
                $urlRouterProvider.otherwise('/home');
                // $urlRouterProvider.when('/home','/home/kitchen');
                $stateProvider.state('home',{
                    url:'/home',
                    template:'<span>home {{data}}</span>',
                    controller:['$stateParams','homeData','$scope',function($stateParams,homeData,$scope){
                        $scope.data = homeData;
                        console.log($stateParams)
                    }],
                    params:{
                        key:'123'
                    },
                    resolve:{
                        homeData:['$http',function($http){

                            return $http({
                                url:'http://localhost:3000/home'
                            })
                            .then(function(result){
                                return result.data;
                            },function(error){
                                return -1;
                            })

                        }]
                    }
                }).state('about',{
                    url:'/about',
                    template:'<p>about{{data}}</p>',
                    controller:['aboutData','$scope',function(aboutData,$scope){
                        $scope.data = aboutData;
                    }],
                    resolve:{
                        aboutData:['$http',function($http){

                            return $http({
                                url:'http://localhost:3000/about',
                                method:'POST',
                                data:{
                                    attribute:'undata'
                                }
                            })
                            .then(function(result){
                                return result.data;
                            },function(error){
                                return -1;
                            })

                        }]
                    }
                })

           }])
</script>